include engine/ShaderPS.txt
include engine/ShaderUtil.txt

uniform sampler2D source;
uniform vec4 color;
uniform vec4 params;

uniform float time;

shader_in vec2 v_texcoord0;

void main()
{
	vec4 result = color;

	if (params.x != 0.0)
	{
		vec4 sourceColor = texture(source, v_texcoord0);

		result.rgb = result.rgb * sourceColor.rgb;
		result.a   = result.a   * sourceColor.a;
	}
	
	shader_fragColor = result;
}
