library vfxgraph

	depend_library artnet
	depend_library audiograph
	depend_library framework
	depend_library framework-allegro2
	depend_library framework-ofx
	depend_library libavgraph
	depend_library libjgmod
	depend_library libosc
	depend_library libvideo
	depend_library rtmidi
	
# todo : add with_library chibi directive ?
	with_platform macos depend_library libps3eye

	header_path .       expose
	header_path objects expose

	with_platform macos   header_path macos/include expose
	with_platform macos   header_path ../libfreenect2/macos/include

	with_platform windows header_path win32/include expose

	scan_files cpp
	scan_files h
	scan_files cpp path objects  group objects
	scan_files h   path objects  group objects
	scan_files cpp path vfxNodes group vfxNodes conglomerate vfxNodes_all.h
	scan_files h   path vfxNodes group vfxNodes
	scan_files cpp path ofxJpegGlitch group ofxJpegGlitch
	scan_files h   path ofxJpegGlitch group ofxJpegGlitch

	with_platform macos add_files vfxNodes_all-mac.mm
	with_platform macos scan_files mm path objects group objects
	with_platform macos scan_files mm path vfxNodes group vfxNodes conglomerate vfxNodes_all-mac.h

	compile_definition ENABLE_KINECT1   0 expose
	compile_definition ENABLE_TURBOJPEG 1 expose

	with_platform macos compile_definition ENABLE_SYPHON     1 expose
	with_platform macos compile_definition ENABLE_LEAPMOTION 1 expose
	with_platform macos compile_definition ENABLE_KINECT2    1 expose
	with_platform macos compile_definition ENABLE_DEEPBELIEF 1 expose
	with_platform macos compile_definition ENABLE_PS3EYE     1 expose
	with_platform macos compile_definition ENABLE_WIIMOTE    0 expose
	with_platform macos compile_definition __MACOSX_CORE__   *

	with_platform macos depend_library macos/framework/DeepBelief.framework local embed_framework
	with_platform macos depend_library macos/framework/Syphon.framework     local embed_framework
	with_platform macos depend_library ../libfreenect2/macos/lib/libfreenect2.0.2.0.dylib local embed_framework
	with_platform macos depend_library macos/lib/libLeap.dylib              local embed_framework
	with_platform macos depend_library macos/lib/libturbojpeg.0.dylib       local embed_framework
	with_platform macos depend_library CoreImage find
	with_platform macos depend_library CoreMIDI find
	with_platform macos depend_library AVFoundation find
# Wiimote
	with_platform macos depend_library IOBluetooth find

	with_platform linux compile_definition ENABLE_SYPHON     0 expose
	with_platform linux compile_definition ENABLE_LEAPMOTION 0 expose
	with_platform linux compile_definition ENABLE_KINECT2    0 expose
	with_platform linux compile_definition ENABLE_DEEPBELIEF 0 expose
	with_platform linux compile_definition ENABLE_PS3EYE     1 expose
	with_platform linux compile_definition ENABLE_WIIMOTE    0 expose
	with_platform linux compile_definition __LINUX_ALSA__    *

	with_platform windows compile_definition ENABLE_SYPHON     0 expose
	with_platform windows compile_definition ENABLE_LEAPMOTION 1 expose
	with_platform windows compile_definition ENABLE_KINECT2    0 expose
	with_platform windows compile_definition ENABLE_DEEPBELIEF 0 expose
	with_platform windows compile_definition ENABLE_PS3EYE     0 expose
	with_platform windows compile_definition ENABLE_WIIMOTE    0 expose
	with_platform windows compile_definition __WINDOWS_MM__    *

	with_platform windows depend_library win32/lib/Leap.lib local
	with_platform windows add_dist_files win32/dll/Leap.dll
	
	with_platform windows depend_library win32/lib/turbojpeg.lib local
	with_platform windows add_dist_files win32/dll/turbojpeg.dll
